{"version":3,"sources":["env.js","logic/homepageApiWorker.js","components/currentDataForecast/CurentDataForecast.js","components/userGreet/UserGreet.js","components/MachineLearningResult/MachineLearningResult.js","logic/historicalDataWorker.js","components/historicalDataChart/HistoricalDataChart.js","logic/machineLearningLogic.js","logic/trainingData.js","components/Homepage.js","App.js","serviceWorker.js","index.js"],"names":["currentWatherApi","allHouseDataEntries","allWeatherEntries","_callee","regenerator_default","a","wrap","_context","prev","next","abrupt","axios","get","then","_ref","data","stop","CurentDataForecast","pros","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","currentCity","currentTemp","currentHumidity","_this2","_GetCurrentWeather","apply","arguments","GetCurrentWeather","result","console","log","setState","prevState","name","main","temp","humidity","currentPressure","pressure","classes","props","react_default","createElement","Paper","className","infoPaper","React","Component","withStyles","theme","textAlign","margin","width","UserGreet","time","Date","timerID","setInterval","tick","clearInterval","toLocaleTimeString","MachineLearningResult","_this$props","isModelTrained","predictionData","predictionResult","lastPredictionTime","finalLoss","Grid","container","direction","item","lastWeatherResult","datetime","lastHomedataResult","createResult","style","position","height","display","top","left","zIndex","background","getAllHouseData","getAllWeatherData","all","spread","weather","housedata","tempWeatherTemperatures","reduce","chartData","el","value","temp_house","tempHouseChartData","tempWeatherChartData","HistoricalDataChart","createChart","Chart","type","labels","keys","datasets","label","fill","values","backgroundColor","borderColor","options","scales","xAxes","distribution","round","scaleLabel","labelString","_GetHistoricalData","GetHistoricalData","id","LEARNING_ITERATIONS","model","tf","compileConifg","optimizer","sgd","loss","fitConfig","verbose","epochs","trainModel","_callee2","finalTrainingRate","i","response","_context2","fit","xs_inputs","training_ys_inputs","sent","history","predictModel","input","parseInt","xs_inputs_prod","predict","res","Math","toLocaleString","hidden","dense","units","inputShape","activation","output","add","compile","startMLOnRealData","asyncToGenerator","mark","getLastWeather","getLastHouseData","pressure_house","_callee3","_context3","isTrainingComplete","Homepage","_startTrainingModel","startTrainingModel","_this$state","justify","spacing","xs","historicalDataChart_HistoricalDataChart","components_MachineLearningResult_MachineLearningResult","userGreet_UserGreet","currentDataForecast_CurentDataForecast","App","root","components_Homepage","padding","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ee10d38f.chunk.js","sourcesContent":["export const fiveDays3hoursApi =\n  \"https://api.openweathermap.org/data/2.5/forecast?id=3093133&appid=3c786bff59e49394d1d9b34220351622&units=metric\";\nexport const currentWatherApi =\n  \"https://api.openweathermap.org/data/2.5/weather?id=3093133&appid=3c786bff59e49394d1d9b34220351622&units=metric\";\n\nexport const lastWeatherEntry =\n  \"https://us-central1-ecohouse-9136c.cloudfunctions.net/getLastWeatherEntry\";\nexport const lastHouseDataEntry =\n  \"https://us-central1-ecohouse-9136c.cloudfunctions.net/getLastHouseDataEntry\";\n\nexport const allHouseDataEntries =\n  \"https://us-central1-ecohouse-9136c.cloudfunctions.net/getAllHouseDataEntries\";\n\nexport const allWeatherEntries =\n  \"https://us-central1-ecohouse-9136c.cloudfunctions.net/getAllWeatherEntries\";\n","import axios from \"axios\";\nimport { currentWatherApi } from \"../env\";\n\nexport async function GetCurrentWeather() {\n  return axios.get(currentWatherApi).then(({ data }) => data);\n}\n","import React from \"react\";\nimport { withStyles, Paper } from \"@material-ui/core\";\nimport { GetCurrentWeather } from \"../../logic/homepageApiWorker\";\n\nconst styles = theme => ({\n  infoPaper: {\n    textAlign: \"center\",\n    margin: 20,\n    width: \"100%\"\n  }\n});\n\nclass CurentDataForecast extends React.Component {\n  constructor(pros) {\n    super(pros);\n    this.state = { currentCity: \"-\", currentTemp: 0, currentHumidity: 0 };\n  }\n\n  componentDidMount() {\n    GetCurrentWeather().then(result => {\n      console.log(\"result\", result);\n      this.setState(prevState => ({\n        currentCity: result.name,\n        currentTemp: result.main.temp,\n        currentHumidity: result.main.humidity,\n        currentPressure: result.main.pressure\n      }));\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Paper className={classes.infoPaper}>\n        <h4> Weather forecast for : {this.state.currentCity} </h4>\n        <h4> Current temperature : {this.state.currentTemp} </h4>\n        <h4> Current pressure : {this.state.currentPressure} hPa </h4>\n        <h4>\n          Humidity in {this.state.currentCity} : {this.state.currentHumidity} %\n        </h4>\n      </Paper>\n    );\n  }\n}\n\nexport default withStyles(styles)(CurentDataForecast);\n","import React from \"react\";\n\nclass UserGreet extends React.Component {\n  state = {\n    time: new Date()\n  };\n\n  componentDidMount() {\n    this.timerID = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  tick() {\n    this.setState({\n      time: new Date()\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Have a nice day!</h1>\n        <h2>It is {this.state.time.toLocaleTimeString()}</h2>\n      </div>\n    );\n  }\n}\n\nexport default UserGreet;\n","import { Grid } from \"@material-ui/core\";\nimport React from \"react\";\n\nclass MachineLearningResult extends React.Component {\n  createResult(result) {\n    if (result === 1) return \"OPEN WINDOWS TO HEAT HOUSE\";\n    else if (result === 0) return \"CLOSE WINDOWS TO REDUCE COLLING OF HOUSE\";\n    else return \"-\";\n  }\n\n  render() {\n    const {\n      isModelTrained,\n      predictionData,\n      predictionResult,\n      lastPredictionTime,\n      finalLoss\n    } = this.props;\n\n    return (\n      <div>\n        <Grid container direction=\"column\">\n          <Grid item>\n            <h4>Machine Learning Component</h4>\n          </Grid>\n          <Grid item>\n            <table>\n              <tbody>\n                <tr>\n                  <td>Weather forecast at:</td>\n                  <td>{predictionData.lastWeatherResult.datetime}</td>\n                </tr>\n                <tr>\n                  <td>Temp:</td>\n                  <td>{predictionData.lastWeatherResult.temp}</td>\n                </tr>\n                <tr>\n                  <td>Humidity</td>\n                  <td> {predictionData.lastWeatherResult.humidity}</td>\n                </tr>\n                <tr>\n                  <td>Pressure:</td>\n                  <td>{predictionData.lastWeatherResult.pressure}</td>\n                </tr>\n                <tr>\n                  <td>House data at </td>\n                  <td>{predictionData.lastHomedataResult.datetime}</td>\n                </tr>\n                <tr>\n                  <td>Temp:</td>\n                  <td>{predictionData.lastHomedataResult.temp}</td>\n                </tr>\n                <tr>\n                  <td>Pressure:</td>\n                  <td> {predictionData.lastHomedataResult.pressure}</td>\n                </tr>\n                <tr>\n                  <td>Final Loss of the Model is: </td>\n                  <td>{finalLoss}</td>\n                </tr>\n              </tbody>\n            </table>\n          </Grid>\n\n          <Grid item>\n            <div>\n              [{lastPredictionTime}] Result is:\n              <b> {this.createResult(predictionResult)}</b>\n            </div>\n          </Grid>\n        </Grid>\n\n        <div\n          style={{\n            position: \"fixed\",\n            width: \"100%\",\n            height: \"100%\",\n            display: !isModelTrained ? \"block\" : \"none\",\n            top: 0,\n            left: 0,\n            zIndex: 1000,\n            background: \"rgba(255,255,255,0.8)\"\n          }}\n        >\n          <p\n            style={{\n              position: \"fixed\",\n              display: !this.props.isModelTrained ? \"block\" : \"none\",\n              top: \"50%\",\n              left: \"50%\",\n              zIndex: 1000\n            }}\n          >\n            System is learning now :) <br /> Please give it a moment or two.\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MachineLearningResult;\n","import axios from \"axios\";\nimport { allHouseDataEntries, allWeatherEntries } from \"../env\";\n\nexport async function GetHistoricalData() {\n  function getAllHouseData() {\n    return axios.get(allHouseDataEntries);\n  }\n  function getAllWeatherData() {\n    return axios.get(allWeatherEntries);\n  }\n\n  return axios\n    .all([getAllWeatherData(), getAllHouseData()])\n    .then(\n      axios.spread((weather, housedata) => {\n        return {\n          weather: weather.data[0],\n          housedata: housedata.data[0]\n        };\n      })\n    )\n    .then(({ weather, housedata }) => {\n      const tempWeatherTemperatures = housedata.reduce((chartData, el) => {\n        chartData[el.datetime.value] = el.temp_house;\n        return chartData;\n      }, {});\n\n      const tempHouseTemperatures = weather.reduce((chartData, el) => {\n        chartData[el.datetime.value] = el.temp;\n        return chartData;\n      }, {});\n\n      return {\n        tempHouseChartData: tempHouseTemperatures,\n        tempWeatherChartData: tempWeatherTemperatures\n      };\n    });\n}\n","import React from \"react\";\nimport { withStyles } from \"@material-ui/core\";\nimport Chart from \"chart.js\";\nimport { GetHistoricalData } from \"../../logic/historicalDataWorker\";\n\nconst styles = theme => ({});\n\nclass HistoricalDataChart extends React.Component {\n  constructor(pros) {\n    super(pros);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    GetHistoricalData().then(data => {\n      console.log(\"GetHistoricalData\", data);\n      const { tempHouseChartData, tempWeatherChartData } = data;\n      this.createChart(tempHouseChartData, tempWeatherChartData);\n    });\n  }\n\n  createChart = (tempHouseChartData, tempWeatherChartData) => {\n    const ctx = \"historicalDataChart\";\n    new Chart(ctx, {\n      type: \"scatter\",\n      data: {\n        labels: Object.keys(tempHouseChartData),\n        datasets: [\n          {\n            label: \"Temp House\",\n            fill: false,\n            data: Object.values(tempHouseChartData),\n            backgroundColor: \"red\",\n            borderColor: \"red\"\n          },\n          {\n            label: \"Temp Weather\",\n            fill: false,\n            data: Object.values(tempWeatherChartData),\n            backgroundColor: \"blue\",\n            borderColor: \"blue\"\n          }\n        ]\n      },\n      options: {\n        scales: {\n          xAxes: [\n            {\n              type: \"time\",\n              distribution: \"linear\",\n              time: {\n                round: \"minute\"\n              },\n              scaleLabel: {\n                display: true,\n                labelString: \"Date\"\n              }\n            }\n          ]\n        }\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <canvas id=\"historicalDataChart\" width=\"300\" height=\"150\" />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(HistoricalDataChart);\n","import * as tf from \"@tensorflow/tfjs\";\nimport axios from \"axios\";\nimport { lastWeatherEntry, lastHouseDataEntry } from \"../env\";\nimport { trainingInput, trainingYs } from \"../logic/trainingData\";\n\nconst LEARNING_RATE = 0.1;\nconst LEARNING_ITERATIONS = 100;\nconst model = tf.sequential();\nconst configHiddenLayer = {\n  units: 4,\n  inputShape: [3],\n  activation: \"sigmoid\"\n};\nconst configOutputLayer = {\n  units: 1,\n  activation: \"sigmoid\"\n};\nconst sgdOptimizer = tf.train.sgd(LEARNING_RATE);\n// const lossFunction\nconst compileConifg = {\n  optimizer: sgdOptimizer,\n  loss: \"meanSquaredError\"\n};\nconst fitConfig = {\n  verbose: true,\n  epochs: 5\n};\n\nasync function trainModel() {\n  let finalTrainingRate;\n\n  for (let i = 0; i < LEARNING_ITERATIONS; i++) {\n    const response = await model.fit(xs_inputs, training_ys_inputs, fitConfig);\n    if (i === LEARNING_ITERATIONS - 1)\n      finalTrainingRate = response.history.loss[0];\n  }\n\n  return finalTrainingRate;\n}\n\nconst predictModel = data => {\n  let input = [\n    parseInt(data.lastHomedataResult.temp),\n    parseInt(23),\n    parseInt(data.lastWeatherResult.temp)\n  ];\n  const xs_inputs_prod = tf.tensor2d([input]);\n  let output = model.predict(xs_inputs_prod);\n\n  return output.data().then(res => {\n    return {\n      predictionData: data,\n      result: Math.round(res),\n      lastPredictionTime: new Date().toLocaleString()\n    };\n  });\n};\n\n//temp_house, temp_desired, temp_outside,\nconst xs_inputs = tf.tensor2d(trainingInput);\nconst training_ys_inputs = tf.tensor2d(trainingYs);\n\nconst hidden = tf.layers.dense(configHiddenLayer);\nconst output = tf.layers.dense(configOutputLayer);\nmodel.add(hidden);\nmodel.add(output);\n\nmodel.compile(compileConifg);\n\nexport const startMLOnRealData = async () => {\n  function getLastWeather() {\n    return axios.get(lastWeatherEntry);\n  }\n  function getLastHouseData() {\n    return axios.get(lastHouseDataEntry);\n  }\n\n  return axios\n    .all([getLastWeather(), getLastHouseData()])\n    .then(\n      axios.spread((weather, housedata) => {\n        return {\n          lastWeatherResult: {\n            datetime: weather.data[0][0].datetime.value,\n            temp: weather.data[0][0].temp,\n            humidity: weather.data[0][0].humidity,\n            pressure: weather.data[0][0].pressure\n          },\n          lastHomedataResult: {\n            datetime: housedata.data[0][0].datetime.value,\n            temp: housedata.data[0][0].temp_house,\n            pressure: housedata.data[0][0].pressure_house\n          }\n        };\n      })\n    )\n    .then(data => predictModel(data));\n};\n\nexport async function startTrainingModel() {\n  return trainModel().then(finalLoss => {\n    return {\n      isTrainingComplete: true,\n      finalLoss: finalLoss\n    };\n  });\n}\n","\n\n\nexport const trainingInput = [\n    //inputs - ciepło otworzyc okna\n    [22, 23, 25],\n    [22, 23, 25],\n    [21, 23, 28],\n    [15, 23, 23],\n    [16, 23, 24],\n    [17, 23, 25],\n  \n    //inputs - ciepło zamknac + zaslonic okna\n    [23, 23, 28],\n    [23, 23, 28],\n    [23, 23, 28],\n    [24, 23, 31],\n    [23, 23, 25],\n    [26, 23, 28],\n  \n    // otworz okna\n    [12, 23, 17],\n    [11, 23, 25],\n    [19, 23, 28],\n    [15, 23, 22],\n    [13, 23, 19],\n    [15, 23, 28],\n  \n    // zamknij okna\n  \n    [23, 23, 19],\n    [23, 23, 15],\n    [23, 23, 18],\n    [23, 23, 11],\n    [23, 23, 10],\n    [23, 23, 8]\n  ];\n\n\n  export const trainingYs = [\n    [1],\n    [1],\n    [1],\n    [1],\n    [1],\n    [1],\n  \n    [0],\n    [0],\n    [0],\n    [0],\n    [0],\n    [0],\n  \n    [1],\n    [1],\n    [1],\n    [1],\n    [1],\n    [1],\n  \n    [0],\n    [0],\n    [0],\n    [0],\n    [0],\n    [0]\n  ]","import React from \"react\";\nimport CurentDataForecast from \"./currentDataForecast/CurentDataForecast\";\nimport UserGreet from \"./userGreet/UserGreet\";\nimport MachineLearningComponent from \"./MachineLearningResult/MachineLearningResult\";\nimport { withStyles, Grid } from \"@material-ui/core\";\nimport HistoricalDataChart from \"./historicalDataChart/HistoricalDataChart\";\n\nimport {\n  startMLOnRealData,\n  startTrainingModel\n} from \"../logic/machineLearningLogic\";\n\nconst styles = theme => ({\n  container: {\n    // marginTop: 50,\n  }\n});\n\nclass Homepage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isModelTrained: false,\n      predictionResult: {},\n      predictionData: {\n        lastWeatherResult: {\n          datetime: null,\n          temp: null,\n          humidity: null,\n          pressure: null\n        },\n        lastHomedataResult: {\n          datetime: null,\n          temp: null,\n          pressure: null\n        }\n      },\n      lastPredictionTime: null,\n      finalLoss: null\n    };\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  componentDidMount() {\n    startTrainingModel()\n      .then(data => {\n        console.log(data);\n        this.setState({ isModelTrained: true, finalLoss: data.finalLoss });\n      })\n      .then(\n        (this.timerID = setInterval(\n          () =>\n            startMLOnRealData().then(data =>\n              this.setState({\n                predictionData: data.predictionData,\n                predictionResult: data.result,\n                lastPredictionTime: data.lastPredictionTime\n              })\n            ),\n          30000\n        ))\n      );\n  }\n\n  render() {\n    const { classes } = this.props;\n    const {\n      isModelTrained,\n      predictionData,\n      predictionResult,\n      lastPredictionTime,\n      finalLoss\n    } = this.state;\n    return (\n      <Grid\n        container\n        className={classes.container}\n        justify=\"flex-end\"\n        spacing={5}\n      >\n        <Grid item xs={7}>\n          <HistoricalDataChart />\n          <MachineLearningComponent\n            isModelTrained={isModelTrained}\n            predictionData={predictionData}\n            predictionResult={predictionResult}\n            lastPredictionTime={lastPredictionTime}\n            finalLoss={finalLoss}\n          />\n        </Grid>\n        <Grid item xs={5}>\n          <Grid container direction=\"column\" justify=\"flex-end\" spacing={5}>\n            <UserGreet />\n            <CurentDataForecast />\n          </Grid>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(Homepage);\n","import React from \"react\";\nimport \"./App.css\";\nimport Homepage from \"./components/Homepage\";\nimport { withStyles } from \"@material-ui/core\";\n\nconst styles = theme => ({\n  root: {\n    padding: 24\n  }\n});\n\nclass App extends React.Component {\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <Homepage> </Homepage>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}